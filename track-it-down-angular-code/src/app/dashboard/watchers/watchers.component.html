
<nav class="side-navbar">
  <div class="side-navbar-wrapper">
  <!-- Sidebar Header    -->
  <div class="sidenav-header d-flex align-items-center justify-content-center">
      <!-- User Info-->
      <div class="sidenav-header-inner text-center">
          <img src="assets/img/user.svg" alt="person" class="img-fluid rounded-circle">
          <br><br>
          <h5>{{userInfo.firstName}} {{userInfo.lastName}}</h5>
      </div>
      <!-- Small Brand information, appears on minimized sidebar-->
      <div class="sidenav-header-logo"><a [routerLink]="['/dashboard']" class="brand-small text-center"> <strong>T</strong><strong class="text-primary">ID</strong></a></div>
  </div>
  <!-- Sidebar Navigation Menus-->
  <div class="main-menu">
      <ul id="side-main-menu" class="side-menu list-unstyled">                  
             <li><a [routerLink]="['/dashboard']"> <i class="icon-pencil-case"></i>Dashboard</a></li>
      </ul>
  </div>
  </div>
</nav>
<div class="page">
  <!-- navbar-->
  <header class="header">
  <nav class="navbar">
      <div class="container-fluid">
      <div class="navbar-holder d-flex align-items-center justify-content-between">
          <div class="navbar-header">
                <a (click)="toggleCollapsed()" class="menu-btn"><i class="icon-bars"> </i></a>
                <a [routerLink]="['/dashboard']" class="navbar-brand">
                <div class="brand-text d-none d-md-inline-block"><span>Trackit </span><strong class="text-primary">DOWN</strong></div></a></div>
          <ul class="nav-menu list-unstyled d-flex flex-md-row align-items-md-center">
          <!-- Log out-->
          <li class="nav-item"><a (click)="logout()" class="nav-link logout"> <span class="d-none d-sm-inline-block">Logout</span><i class="fa fa-sign-out"></i></a></li>
          </ul>
      </div>
      </div>
  </nav>
  </header>
  <div class="container" *ngIf="currentIssue">
    <div class="row" style="text-align:left">
        <div class="col-sm-12">
            <h4>Add a new watcher</h4>
            <p><b style="color:red;">Note:</b> If you do not see yourself in the list of watcher below, then please add yourself as a watcher first in order to add others as a watcher.<br>
            Go Back to Add yourself as a watcher.</p>
        </div>
      <div class="col-md-12">
        <form #createWatchersForm="ngForm" (ngSubmit)="issueWatchers()">
          <div class="form-group">
            <label>Enter User's Email ID</label>
            <input type="text" name="watcherEmail" [(ngModel)]="watcherEmail" #title="ngModel" class="form-control" placeholder="Enter Email Id" required>
          </div>
          <div [hidden]="title.valid || title.pristine" class="alert alert-danger">
            Email ID is required 
          </div>
          <br>
          <button type="submit" class="btn btn-primary" [disabled]="!createWatchersForm.form.valid">Submit</button>
        </form>
      </div>
    </div>
    <div class="row" style="text-align:left">
        <div class="col-sm-12">
          <h4>List of watchers</h4>
        </div>
        <div class="row">
            <div *ngFor= "let viewer of currentIssue.viewers" class="col-sm-12" style="padding-left:30px;">
                <div *ngIf="!viewer.newOtherWatcherFirstName" >
                    <p><i class="fa fa-circle"></i> Name- {{viewer.firstName}} {{viewer.lastName}} Email- {{viewer.emailId}}</p>
                </div>  
            </div>
            <div *ngFor= "let viewer of currentIssue.viewers" class="col-sm-12" style="padding-left:30px;">
                <div *ngIf="viewer.newOtherWatcherFirstName">
                    <p><i class="fa fa-circle"></i> Name- {{viewer.newOtherWatcherFirstName}} {{viewer. newOtherWatcherLastName}} Email- {{viewer. newOtherWatcherEmailId}}</p>
                </div> 
            </div> 
        </div>
    </div>
  </div>
      
  <footer class="main-footer">
  <div class="container-fluid">
      <div class="row">
      <div class="col-sm-12 text-center">
          <p>TrackitDown &copy; | 2019</p>
      </div>
      </div>
  </div>
  </footer>
</div>


